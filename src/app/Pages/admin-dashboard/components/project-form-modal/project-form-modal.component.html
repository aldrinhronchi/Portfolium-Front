<div class="modal fade show" [style.display]="'block'" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          {{ getModalTitle() }}
        </h5>
        <button type="button" class="btn-close" (click)="onCancel()"></button>
      </div>
      <form [formGroup]="projectForm" (ngSubmit)="onSubmit()">
        <div class="modal-body">
          <div class="row">
            <!-- Nome -->
            <div class="col-md-8 mb-3">
              <label class="form-label">Nome <span class="text-danger">*</span></label>
              <input 
                type="text" 
                class="form-control"
                formControlName="Name"
                [class.is-invalid]="hasError('Name')"
                placeholder="Nome do projeto">
              <div *ngIf="hasError('Name')" class="invalid-feedback">
                {{ getErrorMessage('Name') }}
              </div>
            </div>

            <!-- Categoria -->
            <div class="col-md-4 mb-3">
              <label class="form-label">Categoria</label>
              <select class="form-select" formControlName="Category">
                <option *ngFor="let category of projectCategories" [value]="category">
                  {{ category }}
                </option>
              </select>
            </div>

            <!-- Descrição Curta -->
            <div class="col-12 mb-3">
              <label class="form-label">Descrição Curta</label>
              <input 
                type="text" 
                class="form-control"
                formControlName="ShortDescription"
                [class.is-invalid]="hasError('ShortDescription')"
                placeholder="Breve descrição do projeto">
              <div *ngIf="hasError('ShortDescription')" class="invalid-feedback">
                {{ getErrorMessage('ShortDescription') }}
              </div>
            </div>

            <!-- Descrição -->
            <div class="col-12 mb-3">
              <label class="form-label">Descrição</label>
              <textarea 
                class="form-control" 
                rows="4"
                formControlName="Description"
                placeholder="Descrição detalhada do projeto"></textarea>
            </div>

            <!-- URLs -->
            <div class="col-md-4 mb-3">
              <label class="form-label">URL do Projeto</label>
              <input 
                type="url" 
                class="form-control"
                formControlName="ProjectUrl"
                placeholder="https://...">
            </div>

            <div class="col-md-4 mb-3">
              <label class="form-label">URL da Demo</label>
              <input 
                type="url" 
                class="form-control"
                formControlName="DemoUrl"
                placeholder="https://...">
            </div>

            <div class="col-md-4 mb-3">
              <label class="form-label">URL do Repositório</label>
              <input 
                type="url" 
                class="form-control"
                formControlName="RepositoryUrl"
                placeholder="https://github.com/...">
            </div>

            <!-- Tecnologias -->
            <div class="col-12 mb-3">
              <label class="form-label">Tecnologias</label>
              <input 
                type="text" 
                class="form-control"
                formControlName="Technologies"
                placeholder='["Angular", "TypeScript", ".NET Core"]'>
              <small class="form-text text-muted">
                Insira as tecnologias como array JSON ou separadas por vírgula
              </small>
            </div>

            <!-- Status e Configurações -->
            <div class="col-md-4 mb-3">
              <label class="form-label">Status</label>
              <select class="form-select" formControlName="Status">
                <option *ngFor="let status of projectStatuses" [value]="status">
                  {{ status }}
                </option>
              </select>
            </div>

            <div class="col-md-4 mb-3">
              <label class="form-label">Ordem de Exibição</label>
              <input 
                type="number" 
                class="form-control"
                formControlName="DisplayOrder"
                min="0"
                placeholder="0">
            </div>

            <div class="col-md-4 mb-3 d-flex align-items-end">
              <div class="form-check">
                <input 
                  class="form-check-input" 
                  type="checkbox" 
                  formControlName="IsFeatured"
                  id="featuredCheck">
                <label class="form-check-label" for="featuredCheck">
                  Projeto em Destaque
                </label>
              </div>
            </div>

            <!-- Datas -->
            <div class="col-md-6 mb-3">
              <label class="form-label">Data de Início</label>
              <input 
                type="date" 
                class="form-control"
                formControlName="StartDate">
            </div>

            <div class="col-md-6 mb-3">
              <label class="form-label">Data de Fim</label>
              <input 
                type="date" 
                class="form-control"
                formControlName="EndDate">
            </div>

            <!-- Imagens -->
            <div class="col-md-6 mb-3">
              <label class="form-label">Imagem Principal</label>
              <input 
                type="text" 
                class="form-control"
                formControlName="MainImage"
                placeholder="URL da imagem principal">
            </div>

            <div class="col-md-6 mb-3">
              <label class="form-label">Imagens Adicionais</label>
              <input 
                type="text" 
                class="form-control"
                formControlName="AdditionalImages"
                placeholder='["url1", "url2", "url3"]'>
              <small class="form-text text-muted">
                URLs das imagens como array JSON
              </small>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" (click)="onCancel()">
            {{ isViewMode ? 'Fechar' : 'Cancelar' }}
          </button>
          <button 
            *ngIf="!isViewMode"
            type="submit" 
            class="btn btn-primary" 
            [disabled]="projectForm.invalid">
            {{ isEditMode ? 'Atualizar' : 'Criar' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="modal-backdrop fade show"></div> 