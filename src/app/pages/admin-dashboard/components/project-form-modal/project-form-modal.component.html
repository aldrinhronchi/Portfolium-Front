<div *ngIf="isVisible" class="modal-backdrop-brutal" (click)="closeModal()">
  <div class="modal-container-brutal" (click)="$event.stopPropagation()">
    
    <!-- Header -->
    <div class="modal-header-brutal">
      <h2 class="modal-title-brutal">
        {{ isEditMode ? 'Editar Projeto' : 'Novo Projeto' }}
      </h2>
      <button class="close-btn-brutal" (click)="closeModal()" type="button">
        ×
      </button>
      </div>

    <!-- Body -->
    <div class="modal-body-brutal">
      <form [formGroup]="projectForm" (ngSubmit)="onSubmit()">
        
            <!-- Nome -->
        <div class="form-group-brutal">
          <label class="form-label-brutal">Nome *</label>
              <input 
                type="text" 
            class="form-control-brutal"
            formControlName="name"
            placeholder="Nome do projeto"
          >
          <div *ngIf="projectForm.get('name')?.invalid && projectForm.get('name')?.touched" 
               class="invalid-feedback-brutal">
            Nome é obrigatório
              </div>
            </div>

            <!-- Descrição -->
        <div class="form-group-brutal">
          <label class="form-label-brutal">Descrição *</label>
              <textarea 
            class="form-control-brutal"
            formControlName="description"
                rows="4"
            placeholder="Descrição do projeto"
          ></textarea>
          <div *ngIf="projectForm.get('description')?.invalid && projectForm.get('description')?.touched" 
               class="invalid-feedback-brutal">
            Descrição é obrigatória
            </div>
            </div>

            <!-- Tecnologias -->
        <div class="form-group-brutal">
          <label class="form-label-brutal">Tecnologias</label>
              <input 
                type="text" 
            class="form-control-brutal"
            formControlName="technologies"
            placeholder="Ex: Angular, TypeScript, CSS"
          >
            </div>

        <!-- URL -->
        <div class="form-group-brutal">
          <label class="form-label-brutal">URL</label>
              <input 
            type="url" 
            class="form-control-brutal"
            formControlName="url"
            placeholder="https://exemplo.com"
          >
            </div>

        <!-- GitHub URL -->
        <div class="form-group-brutal">
          <label class="form-label-brutal">GitHub URL</label>
                <input 
            type="url" 
            class="form-control-brutal"
            formControlName="githubUrl"
            placeholder="https://github.com/usuario/projeto"
          >
            </div>

        <!-- Imagem URL -->
        <div class="form-group-brutal">
          <label class="form-label-brutal">Imagem URL</label>
              <input 
            type="url" 
            class="form-control-brutal"
            formControlName="imageUrl"
            placeholder="URL da imagem do projeto"
          >
            </div>

        <!-- Ativo -->
        <div class="form-group-brutal">
          <div class="checkbox-group-brutal">
              <input 
              type="checkbox" 
              class="checkbox-brutal"
              formControlName="isActive"
              id="isActive"
            >
            <label for="isActive" class="form-label-brutal">Projeto Ativo</label>
          </div>
        </div>

      </form>
    </div>

    <!-- Footer -->
    <div class="modal-footer-brutal">
      <button 
        type="button" 
        class="btn-brutal btn-secondary-brutal"
        (click)="closeModal()"
      >
        Cancelar
          </button>
          <button 
        type="button" 
        class="btn-brutal btn-primary-brutal"
        (click)="onSubmit()"
        [disabled]="projectForm.invalid || isLoading"
      >
        <span *ngIf="isLoading" class="spinner-brutal"></span>
            {{ isEditMode ? 'Atualizar' : 'Criar' }}
          </button>
    </div>

  </div>
</div>